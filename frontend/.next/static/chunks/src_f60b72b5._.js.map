{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/nindang/Documents/SocialNetwork/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://127.0.0.1:8000';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add request interceptor to add token to headers\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Add response interceptor to handle 401 errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      // Clear token and redirect to login\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport const auth = {\n  login: async (credentials: { identifier: string; password: string }) => {\n    const response = await api.post('/login', {\n      full_name: '',\n      phone_number: credentials.identifier,\n      username: credentials.identifier,\n      email: credentials.identifier,\n      password: credentials.password\n    });\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n    }\n    return response.data;\n  },\n  register: async (data: { full_name: string; phone_number: string; username: string; email: string; password: string }) => {\n    const response = await api.post('/register', data);\n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n    }\n    return response.data;\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n  }\n};\n\nexport const posts = {\n  getAll: () => api.get('/posts'),\n  create: (data: FormData) => api.post('/posts', data, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  }),\n  like: (postId: string) => api.post(`/posts/${postId}/like`),\n  repost: (postId: string) => api.post(`/posts/${postId}/repost`),\n  comment: (postId: string, content: string) => api.post(`/posts/${postId}/comment`, { content }),\n};\n\nexport default api; "],"names":[],"mappings":";;;;;AAAA;;AAEA,MAAM,UAAU;AAEhB,4CAA4C;AAC5C,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,kDAAkD;AAClD,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,gDAAgD;AAChD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,oCAAoC;QACpC,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGK,MAAM,OAAO;IAClB,OAAO,OAAO;QACZ,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,UAAU;YACxC,WAAW;YACX,cAAc,YAAY,UAAU;YACpC,UAAU,YAAY,UAAU;YAChC,OAAO,YAAY,UAAU;YAC7B,UAAU,YAAY,QAAQ;QAChC;QACA,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;YACvB,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;QACnD;QACA,OAAO,SAAS,IAAI;IACtB;IACA,UAAU,OAAO;QACf,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,aAAa;QAC7C,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;YACvB,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;QACnD;QACA,OAAO,SAAS,IAAI;IACtB;IACA,QAAQ;QACN,aAAa,UAAU,CAAC;IAC1B;AACF;AAEO,MAAM,QAAQ;IACnB,QAAQ,IAAM,IAAI,GAAG,CAAC;IACtB,QAAQ,CAAC,OAAmB,IAAI,IAAI,CAAC,UAAU,MAAM;YACnD,SAAS;gBACP,gBAAgB;YAClB;QACF;IACA,MAAM,CAAC,SAAmB,IAAI,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,KAAK,CAAC;IAC1D,QAAQ,CAAC,SAAmB,IAAI,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC;IAC9D,SAAS,CAAC,QAAgB,UAAoB,IAAI,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,QAAQ,CAAC,EAAE;YAAE;QAAQ;AAC/F;uCAEe","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///home/nindang/Documents/SocialNetwork/frontend/src/app/login/page.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { auth } from '@/services/api';\n\nconst LoginPage: React.FC = () => {\n  const [identifier, setIdentifier] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const router = useRouter();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    \n    try {\n      await auth.login({ identifier, password });\n      router.push('/');\n    } catch (error) {\n      console.error('Login error:', error);\n      setError('Login failed. Please check your credentials.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen w-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"text-center text-3xl font-bold tracking-tight text-gray-900\">\n          Login\n        </h2>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md\">\n              {error}\n            </div>\n          )}\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            <div>\n              <label htmlFor=\"identifier\" className=\"block text-sm font-medium text-gray-700\">\n                Email / Phone / Username\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  id=\"identifier\"\n                  name=\"identifier\"\n                  type=\"text\"\n                  autoComplete=\"username\"\n                  required\n                  className=\"block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black\"\n                  value={identifier}\n                  onChange={(e) => setIdentifier(e.target.value)}\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  autoComplete=\"current-password\"\n                  required\n                  className=\"block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n              </div>\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                className=\"flex w-full justify-center rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2\"\n              >\n                Sign In\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,YAAsB;;IAC1B,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACF,MAAM,yHAAA,CAAA,OAAI,CAAC,KAAK,CAAC;gBAAE;gBAAY;YAAS;YACxC,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,SAAS;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAA8D;;;;;;;;;;;0BAK9E,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;wBACZ,uBACC,6LAAC;4BAAI,WAAU;sCACZ;;;;;;sCAGL,6LAAC;4BAAK,WAAU;4BAAY,UAAU;;8CACpC,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAa,WAAU;sDAA0C;;;;;;sDAGhF,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDACC,IAAG;gDACH,MAAK;gDACL,MAAK;gDACL,cAAa;gDACb,QAAQ;gDACR,WAAU;gDACV,OAAO;gDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;8CAKnD,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAW,WAAU;sDAA0C;;;;;;sDAG9E,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDACC,IAAG;gDACH,MAAK;gDACL,MAAK;gDACL,cAAa;gDACb,QAAQ;gDACR,WAAU;gDACV,OAAO;gDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;8CAKjD,6LAAC;8CACC,cAAA,6LAAC;wCACC,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GApFM;;QAIW,qIAAA,CAAA,YAAS;;;KAJpB;uCAsFS","debugId":null}}]
}